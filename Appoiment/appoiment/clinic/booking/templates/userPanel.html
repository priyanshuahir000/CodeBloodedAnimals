<title>User Panel</title>
{% extends 'layout.html' %}
{% load static %}
{% block body %}
<style>
    .user-h1{
        margin: 8rem 5rem 0rem 5rem !important;
    }
        .register-h1{
            margin: 8rem 2rem 2rem 2rem;
        }
        .register-form {
            margin: 1rem 5rem 5rem 5rem!important;
            border-radius: 40px !important;
            background-color: #283849;
            box-shadow: 10px 10px 1px #000, 10px 12px 10px #000;
            font-family: "Roboto Slab", sans-serif !important;
            font-size: 14px;
            font-weight: 400;
            
        }
        
        .reg-form2 {
            border-radius: 40px !important;
            margin: 0 !important;
            margin-bottom: 0;
            background-color: #283849;
            box-shadow: inset 10px 2px 10px rgba(0, 0, 0, 0.2), inset 0 2px 10px #000; 
            padding: 50px !important;
        }
        
        form label{
            margin: 10px 5px!important;
            font-weight: 500;
            font-size: 20px;
        }
        form p input{
            margin: 10px 5px !important;
        }
        form button, form a, .button-edit{
            background-color: #283849 !important;
        }
        form button:hover, form a:hover, .button-edit:hover{
            opacity: 0.8;
            transform: scale(1.05);
            background-color: #1c2b3d;
        }
        form button:active, form a:acive{
            transform: scale(0.95);
            background-color: #0e1620;
        }
        .user-h1{
            color: #fff !important;
        }
</style>


{% if user.is_authenticated %}
<h1 class="user-h1">User Panel</h1>

<div class="shadow p-4 bg-body bg-body rounded text-black  register-form">
    <h2 class="h21">User Info:</h2>
    <ul class="list-group fs-4 mt-3">
            <li class="list-group mt-2">First Name: {{ user.first_name }}</li>
            <li class="list-group mt-2">Last Name: {{ user.last_name }}</li>
            <li class="list-group mt-2">Username: {{ user.username }}</li>
    </ul>
</div>

<!--Appointment Loop-->
{% if appointments.count > 0 %}
<div class="mt-3">
    <h1 class="user-h1" style="margin-top: 1rem !important;">Appointments:</h1>
    <div class="shadow p-4 mb-3 bg-body bg-body rounded text-black register-form">
        {% for appointment in appointments %}
        <div class="list-group fs-4 p-3 mb-3">
            <p class="list-group mt-2">Day: {{ appointment.day }}</p>
            <p class="list-group mt-2">Time: {{ appointment.time }}</p>
            <p class="list-group mt-2">Service: {{ appointment.service }}</p>
            <div class="mt-3 mb-2">
                <a class="btn btn-primary rounded-3 p-2 button-edit" href="{% url 'userUpdate' appointment.id %}">Edit Appointment</a>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endif %}

{% else %}

<div class="shadow p-4 mb-5 bg-body bg-body rounded text-black  m-5">
    <h1 class="p-2  ms-3">First Sign in!</h1>
    <a href="{% url 'login' %}" class="btn btn-primary text-white">Sign in</a>
</div>

{% endif %}


{% endblock %}
